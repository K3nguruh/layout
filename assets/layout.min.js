/*! layout v1.0.0 | (c) K3nguruh <https://github.com/K3nguruh> | MIT-Lizenz */
!function($){$.widget("custom.layout",{options:{sidebar:!1,breakpoint:1200,width:300,duration:300,easing:"linear",navbtn:"#navbtn",navbar:"#navbar",overlay:"#overlay",classes:{desktop:"layout-desktop",mobile:"layout-mobile",sidebar:"layout-sidebar",active:"active"}},_create:function(){this.options=$.extend(!0,{},this.options,this.element.data()),this.$window=$(window),this.$layout=$(this.element),this.$navbtn=$(this.options.navbtn),this.$navbar=$(this.options.navbar),this.$overlay=$(this.options.overlay),this._initEvents()},_initEvents:function(){this._on(this.$window,{resize:"_onResize"}),this._on(this.$navbtn,{click:"_onToggle"}),this._on(this.$overlay,{click:"_onToggle"}),this._resize()},_onResize:function(event){this.resizeAnimationFrame&&cancelAnimationFrame(this.resizeAnimationFrame),this.resizeAnimationFrame=requestAnimationFrame((()=>this._resize()))},_onToggle:function(event){this[this.isShown?"_close":"_open"]()},_open:function(){this.isShown=!0,this.$navbtn.addClass(this.options.classes.active),this.$navbar.stop().animate({left:0},this.options.duration,this.options.easing),this.$overlay.stop().fadeIn(this.options.duration,this.options.easing)},_close:function(){this.isShown=!1,this.$navbtn.removeClass(this.options.classes.active),this.$navbar.stop().animate({left:-this.options.width},this.options.duration,this.options.easing),this.$overlay.stop().fadeOut(this.options.duration,this.options.easing)},_resize:function(){const isSidebar=this.options.sidebar,isMobile=this.$window.width()<this.options.breakpoint;this.isMobile!==isMobile&&(this.isMobile=isMobile,this[isMobile?"_applyMobile":isSidebar?"_applySidebar":"_applyDesktop"]())},_applyMobile:function(){this.$layout.addClass(this.options.classes.mobile),this.$layout.removeClass(this.options.classes.desktop),this.$layout.removeClass(this.options.classes.sidebar),this.$navbtn.css({display:""}),this.$navbar.css({position:"absolute",inset:"0",left:this.isShown?"0":-this.options.width,width:this.options.width}),this.$overlay.css({display:this.isShown?"":"none"})},_applyDesktop:function(){this.$layout.addClass(this.options.classes.desktop),this.$layout.removeClass(this.options.classes.mobile),this.$layout.removeClass(this.options.classes.sidebar),this.$navbtn.css({display:"none"}),this.$navbar.css({position:"",inset:"",width:""}),this.$overlay.css({display:"none"})},_applySidebar:function(){this.$layout.addClass(this.options.classes.sidebar),this.$layout.removeClass(this.options.classes.desktop),this.$layout.removeClass(this.options.classes.mobile),this.$navbtn.css({display:"none"}),this.$navbar.css({position:"",inset:"",width:this.options.width}),this.$overlay.css({display:"none"})},open:function(){this.isMobile&&!this.isShown&&this._open()},close:function(){this.isMobile&&this.isShown&&this._close()},destroy:function(){this.$layout.removeClass(this.options.classes.desktop),this.$layout.removeClass(this.options.classes.mobile),this.$layout.removeClass(this.options.classes.sidebar),this.$navbtn.css({display:""}),this.$navbar.css({position:"",inset:"",width:""}),this.$overlay.css({display:""})}}),$((function(){$('[data-plugin="layout"]').layout()}))}(jQuery);
